"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Sets up a storage map for all instantiated objects.
 * Every object is added in the map as {id: object} where id is object._id.
 * object._id is incremented whenever a new object is instantiated.
 * Static method findById can be used to find an object by id.
 */
const Store = () => (constructor) => {
    let __counter = 1;
    const storage = {};
    return class extends constructor {
        constructor(...args) {
            super(...args);
            this._id = __counter++;
            const self = this;
            this.getId = () => self._id;
            storage[this._id] = this;
        }
        static findById(id) {
            return storage[id];
        }
    };
};
exports.default = Store;
//# sourceMappingURL=store.js.map